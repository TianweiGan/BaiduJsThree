/*!
* Proton v1.1.4
* https://github.com/JackXie60/shader-particle-system
* Copyright 2022-2025, JackXie60
* Licensed under the MIT license
* http://www.opensource.org/licenses/mit-license
*
*/
import{Vector2 as e,Vector3 as t,Vector4 as i,Color as r,DynamicDrawUsage as a,StaticDrawUsage as n,BufferAttribute as s,ShaderChunk as o,MathUtils as u,AdditiveBlending as l,ShaderMaterial as c,BufferGeometry as p,Points as h}from"three";var d,f,m={types:{Boolean:"boolean",STRING:"string",NUMBER:"number",OBJECT:"object"},ensureTypedArg:function(e,t,i){return typeof e===t?e:i},ensureArrayTypedArg:function(e,t,i){if(Array.isArray(e)){for(var r=e.length-1;r>=0;--r)if(typeof e[r]!==t)return i;return e}return this.ensureTypedArg(e,t,i)},ensureInstanceOf:function(e,t,i){return void 0!==e?e:i},ensureArrayInstanceOf:function(e,t,i){if(Array.isArray(e)){for(var r=e.length-1;r>=0;--r)if(void 0!==t&&e[r]instanceof t==!1)return i;return e}return this.ensureInstanceOf(e,t,i)},ensureValueOverLifetimeCompliance:function(e,t,i){t=t||3,i=i||3,!1===Array.isArray(e._value)&&(e._value=[e._value]),!1===Array.isArray(e._spread)&&(e._spread=[e._spread]);var r=this.clamp(e._value.length,t,i),a=this.clamp(e._spread.length,t,i),n=Math.max(r,a);e._value.length!==n&&(e._value=this.interpolateArray(e._value,n)),e._spread.length!==n&&(e._spread=this.interpolateArray(e._spread,n))},interpolateArray:function(e,t){for(var i=e.length,r=["function"==typeof e[0].clone?e[0].clone():e[0]],a=(i-1)/(t-1),n=1;n<t-1;++n){var s=n*a,o=Math.floor(s),u=Math.ceil(s),l=s-o;r[n]=this.lerpTypeAgnostic(e[o],e[u],l)}return r.push("function"==typeof e[i-1].clone?e[i-1].clone():e[i-1]),r},clamp:function(e,t,i){return Math.max(t,Math.min(e,i))},zeroToEpsilon:function(e,t){var i=1e-5,r=e;return r=t?Math.random()*i*10:i,e<0&&e>-1e-5&&(r=-r),r},lerpTypeAgnostic:function(a,n,s){var o,u=this.types;return typeof a===u.NUMBER&&typeof n===u.NUMBER?a+(n-a)*s:a instanceof e&&n instanceof e?((o=a.clone()).x=this.lerp(a.x,n.x,s),o.y=this.lerp(a.y,n.y,s),o):a instanceof t&&n instanceof t?((o=a.clone()).x=this.lerp(a.x,n.x,s),o.y=this.lerp(a.y,n.y,s),o.z=this.lerp(a.z,n.z,s),o):a instanceof i&&n instanceof i?((o=a.clone()).x=this.lerp(a.x,n.x,s),o.y=this.lerp(a.y,n.y,s),o.z=this.lerp(a.z,n.z,s),o.w=this.lerp(a.w,n.w,s),o):a instanceof r&&n instanceof r?((o=a.clone()).r=this.lerp(a.r,n.r,s),o.g=this.lerp(a.g,n.g,s),o.b=this.lerp(a.b,n.b,s),o):void console.warn("Invalid argument types, or argument types do not match:",a,n)},lerp:function(e,t,i){return e+(t-e)*i},roundToNearestMultiple:function(e,t){var i;return 0===t||0===(i=Math.abs(e)%t)?e:e<0?-(Math.abs(e)-i):e+t-i},arrayValuesAreEqual:function(e){for(var t=0;t<e.length-1;++t)if(e[t]!==e[t+1])return!1;return!0},randomFloat:function(e,t){return e+t*(Math.random()-.5)},randomVector3:function(e,t,i,r,a){var n=i.x+(Math.random()*r.x-.5*r.x),s=i.y+(Math.random()*r.y-.5*r.y),o=i.z+(Math.random()*r.z-.5*r.z);a&&(n=.5*-a.x+this.roundToNearestMultiple(n,a.x),s=.5*-a.y+this.roundToNearestMultiple(s,a.y),o=.5*-a.z+this.roundToNearestMultiple(o,a.z)),e.typedArray.setVec3Components(t,n,s,o)},randomColor:function(e,t,i,r){var a=i.r+Math.random()*r.x,n=i.g+Math.random()*r.y,s=i.b+Math.random()*r.z;a=this.clamp(a,0,1),n=this.clamp(n,0,1),s=this.clamp(s,0,1),e.typedArray.setVec3Components(t,a,n,s)},randomColorAsHex:(f=new r,function(e,t,i,r){for(var a=i.length,n=[],s=0;s<a;++s){var o=r[s];f.copy(i[s]),f.r+=Math.random()*o.x-.5*o.x,f.g+=Math.random()*o.y-.5*o.y,f.b+=Math.random()*o.z-.5*o.z,f.r=this.clamp(f.r,0,1),f.g=this.clamp(f.g,0,1),f.b=this.clamp(f.b,0,1),n.push(f.getHex())}e.typedArray.setVec4Components(t,n[0],n[1],n[2],n[3])}),randomVector3OnLine:function(e,t,i,r){var a=i.clone();a.lerp(r,Math.random()),e.typedArray.setVec3Components(t,a.x,a.y,a.z)},randomVector3OnSphere:function(e,t,i,r,a,n,s,o){var u=2*Math.random()-1,l=6.2832*Math.random(),c=Math.sqrt(1-u*u),p=this.randomFloat(r,a),h=0,d=0,f=0;s&&(p=Math.round(p/s)*s),h=c*Math.cos(l)*p,d=c*Math.sin(l)*p,f=u*p,h*=n.x,d*=n.y,f*=n.z,h+=i.x,d+=i.y,f+=i.z,e.typedArray.setVec3Components(t,h,d,f)},seededRandom:function(e){var t=1e4*Math.sin(e);return t-(0|t)},randomVector3OnDisc:function(e,t,i,r,a,n,s){var o=6.2832*Math.random(),u=Math.abs(this.randomFloat(r,a)),l=0,c=0,p=0;s&&(u=Math.round(u/s)*s),l=Math.cos(o)*u,c=Math.sin(o)*u,l*=n.x,c*=n.y,l+=i.x,c+=i.y,p+=i.z,e.typedArray.setVec3Components(t,l,c,p)},randomDirectionVector3OnSphere:(d=new t,function(e,t,i,r,a,n,s,o){d.copy(n),d.x-=i,d.y-=r,d.z-=a,d.normalize().multiplyScalar(-this.randomFloat(s,o)),e.typedArray.setVec3Components(t,d.x,d.y,d.z)}),randomDirectionVector3OnDisc:function(){var e=new t;return function(t,i,r,a,n,s,o,u){e.copy(s),e.x-=r,e.y-=a,e.z-=n,e.normalize().multiplyScalar(-this.randomFloat(o,u)),t.typedArray.setVec3Components(i,e.x,e.y,0)}}(),getPackedRotationAxis:function(){var e=new t,i=new t,a=new r,n=new t(1,1,1);return function(t,r){return e.copy(t).normalize(),i.copy(r).normalize(),e.x+=.5*-r.x+Math.random()*r.x,e.y+=.5*-r.y+Math.random()*r.y,e.z+=.5*-r.z+Math.random()*r.z,e.normalize().add(n).multiplyScalar(.5),a.setRGB(e.x,e.y,e.z),a.getHex()}}()},g={distributions:{BOX:1,SPHERE:2,DISC:3,LINE:4},valueOverLifetimeLength:4},y=function(){function e(e,t,i,r){this.componentSize=i||1,this.size=t||1,this.TypedArrayConstructor=e||Float32Array,this.array=new e(t*this.componentSize),this.indexOffset=r||0}var t=e.prototype;return t.setSize=function(e,t){var i=this.array.length;return t||(e*=this.componentSize),e<i?this.shrink(e):e>i?this.grow(e):void console.info("TypedArray is already of size:",e+".","Will not resize.")},t.shrink=function(e){return this.array=this.array.subarray(0,e),this.size=e,this},t.grow=function(e){var t=new this.TypedArrayConstructor(e);return t.set(this.array),this.array=t,this.size=e,this},t.splice=function(e,t){for(var i=e*this.componentSize,r=t*this.componentSize,a=[],n=this.array.length,s=0;s<n;++s)(s<i||s>r)&&a.push(this.array[s]);return this.setFromArray(0,a),this},t.setFromArray=function(e,t){var i=e+t.length;return i>this.array.length?this.grow(i):i<this.array.length&&this.shrink(i),this.array.set(t,this.indexOffset+e),this},t.setVec2=function(e,t){return this.setVec2Components(e,t.x,t.y)},t.setVec2Components=function(e,t,i){var r=this.array,a=this.indexOffset+e*this.componentSize;return r[a]=t,r[a+1]=i,this},t.setVec3=function(e,t){return this.setVec3Components(e,t.x,t.y,t.z)},t.setVec3Components=function(e,t,i,r){var a=this.array,n=this.indexOffset+e*this.componentSize;return a[n]=t,a[n+1]=i,a[n+2]=r,this},t.setVec4=function(e,t){return this.setVec4Components(e,t.x,t.y,t.z,t.w)},t.setVec4Components=function(e,t,i,r,a){var n=this.array,s=this.indexOffset+e*this.componentSize;return n[s]=t,n[s+1]=i,n[s+2]=r,n[s+3]=a,this},t.setMat3=function(e,t){return this.setFromArray(this.indexOffset+e*this.componentSize,t.elements)},t.setMat4=function(e,t){return this.setFromArray(this.indexOffset+e*this.componentSize,t.elements)},t.setColor=function(e,t){return this.setVec3Components(e,t.r,t.g,t.b)},t.setNumber=function(e,t){return this.array[this.indexOffset+e*this.componentSize]=t,this},t.getValueAtIndex=function(e){return this.array[this.indexOffset+e]},t.getComponentValueAtIndex=function(e){return this.array.subarray(this.indexOffset+e*this.componentSize)},e}(),v=function(){function e(t,i,r){var a=e.typeSizeMap;this.type="string"==typeof t&&a.hasOwnProperty(t)?t:"f",this.componentSize=a[this.type],this.arrayType=r||Float32Array,this.typedArray=null,this.bufferAttribute=null,this.dynamicBuffer=!!i,this.updateMin=0,this.updateMax=0}var t=e.prototype;return t.setUpdateRange=function(e,t){this.updateMin=Math.min(e*this.componentSize,this.updateMin*this.componentSize),this.updateMax=Math.max(t*this.componentSize,this.updateMax*this.componentSize)},t.flagUpdate=function(){var e=this.bufferAttribute,t=e.updateRange;t.offset=this.updateMin,t.count=Math.min(this.updateMax-this.updateMin+this.componentSize,this.typedArray.array.length),e.needsUpdate=!0},t.resetUpdateRange=function(){this.updateMin=0,this.updateMax=0},t.resetDynamic=function(){this.bufferAttribute.useage=this.dynamicBuffer?a:n},t.splice=function(e,t){this.typedArray.splice(e,t),this.forceUpdateAll()},t.forceUpdateAll=function(){this.bufferAttribute.array=this.typedArray.array,this.bufferAttribute.updateRange.offset=0,this.bufferAttribute.updateRange.count=-1,this.bufferAttribute.usage=n,this.bufferAttribute.needsUpdate=!0},t._ensureTypedArray=function(e){null!==this.typedArray&&this.typedArray.size===e*this.componentSize||(null!==this.typedArray&&this.typedArray.size!==e?this.typedArray.setSize(e):null===this.typedArray&&(this.typedArray=new y(this.arrayType,e,this.componentSize)))},t._createBufferAttribute=function(e){if(this._ensureTypedArray(e),null!==this.bufferAttribute)return this.bufferAttribute.array=this.typedArray.array,this.bufferAttribute.count=this.bufferAttribute.array.length/this.bufferAttribute.itemSize,void(this.bufferAttribute.needsUpdate=!0);this.bufferAttribute=new s(this.typedArray.array,this.componentSize),this.bufferAttribute.usage=this.dynamicBuffer?a:n},t.getLength=function(){return null===this.typedArray?0:this.typedArray.array.length},e}();v.typeSizeMap={f:1,v2:2,v3:3,v4:4,c:3,m3:9,m4:16};var A={defines:["#define PACKED_COLOR_SIZE 256.0","#define PACKED_COLOR_DIVISOR 255.0"].join("\n"),uniforms:["uniform float deltaTime;","uniform float runTime;","uniform sampler2D tex;","uniform vec4 textureAnimation;","uniform float scale;"].join("\n"),attributes:["attribute vec4 acceleration;","attribute vec3 velocity;","attribute vec4 rotation;","attribute vec3 rotationCenter;","attribute vec4 params;","attribute vec4 size;","attribute vec4 angle;","attribute vec4 color;","attribute vec4 opacity;"].join("\n"),varyings:["varying vec4 vColor;","#ifdef SHOULD_ROTATE_TEXTURE","    varying float vAngle;","#endif","#ifdef SHOULD_CALCULATE_SPRITE","    varying vec4 vSpriteSheet;","#endif"].join("\n"),branchAvoidanceFunctions:["float when_gt(float x, float y) {","    return max(sign(x - y), 0.0);","}","float when_lt(float x, float y) {","    return min( max(1.0 - sign(x - y), 0.0), 1.0 );","}","float when_eq( float x, float y ) {","    return 1.0 - abs( sign( x - y ) );","}","float when_ge(float x, float y) {","  return 1.0 - when_lt(x, y);","}","float when_le(float x, float y) {","  return 1.0 - when_gt(x, y);","}","float and(float a, float b) {","    return a * b;","}","float or(float a, float b) {","    return min(a + b, 1.0);","}"].join("\n"),unpackColor:["vec3 unpackColor( in float hex ) {","   vec3 c = vec3( 0.0 );","   float r = mod( (hex / PACKED_COLOR_SIZE / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","   float g = mod( (hex / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","   float b = mod( hex, PACKED_COLOR_SIZE );","   c.r = r / PACKED_COLOR_DIVISOR;","   c.g = g / PACKED_COLOR_DIVISOR;","   c.b = b / PACKED_COLOR_DIVISOR;","   return c;","}"].join("\n"),unpackRotationAxis:["vec3 unpackRotationAxis( in float hex ) {","   vec3 c = vec3( 0.0 );","   float r = mod( (hex / PACKED_COLOR_SIZE / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","   float g = mod( (hex / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","   float b = mod( hex, PACKED_COLOR_SIZE );","   c.r = r / PACKED_COLOR_DIVISOR;","   c.g = g / PACKED_COLOR_DIVISOR;","   c.b = b / PACKED_COLOR_DIVISOR;","   c *= vec3( 2.0 );","   c -= vec3( 1.0 );","   return c;","}"].join("\n"),floatOverLifetime:["float getFloatOverLifetime( in float positionInTime, in vec4 attr ) {","    highp float value = 0.0;","    float deltaAge = positionInTime * float( VALUE_OVER_LIFETIME_LENGTH - 1 );","    float fIndex = 0.0;","    float shouldApplyValue = 0.0;","    value += attr[ 0 ] * when_eq( deltaAge, 0.0 );","","    for( int i = 0; i < VALUE_OVER_LIFETIME_LENGTH - 1; ++i ) {","       fIndex = float( i );","       shouldApplyValue = and( when_gt( deltaAge, fIndex ), when_le( deltaAge, fIndex + 1.0 ) );","       value += shouldApplyValue * mix( attr[ i ], attr[ i + 1 ], deltaAge - fIndex );","    }","","    return value;","}"].join("\n"),colorOverLifetime:["vec3 getColorOverLifetime( in float positionInTime, in vec3 color1, in vec3 color2, in vec3 color3, in vec3 color4 ) {","    vec3 value = vec3( 0.0 );","    value.x = getFloatOverLifetime( positionInTime, vec4( color1.x, color2.x, color3.x, color4.x ) );","    value.y = getFloatOverLifetime( positionInTime, vec4( color1.y, color2.y, color3.y, color4.y ) );","    value.z = getFloatOverLifetime( positionInTime, vec4( color1.z, color2.z, color3.z, color4.z ) );","    return value;","}"].join("\n"),paramFetchingFunctions:["float getAlive() {","   return params.x;","}","float getAge() {","   return params.y;","}","float getMaxAge() {","   return params.z;","}","float getWiggle() {","   return params.w;","}"].join("\n"),forceFetchingFunctions:["vec4 getPosition( in float age ) {","   return modelViewMatrix * vec4( position, 1.0 );","}","vec3 getVelocity( in float age ) {","   return velocity * age;","}","vec3 getAcceleration( in float age ) {","   return acceleration.xyz * age;","}"].join("\n"),rotationFunctions:["#ifdef SHOULD_ROTATE_PARTICLES","   mat4 getRotationMatrix( in vec3 axis, in float angle) {","       axis = normalize(axis);","       float s = sin(angle);","       float c = cos(angle);","       float oc = 1.0 - c;","","       return mat4(oc * axis.x * axis.x + c,           oc * axis.x * axis.y - axis.z * s,  oc * axis.z * axis.x + axis.y * s,  0.0,","                   oc * axis.x * axis.y + axis.z * s,  oc * axis.y * axis.y + c,           oc * axis.y * axis.z - axis.x * s,  0.0,","                   oc * axis.z * axis.x - axis.y * s,  oc * axis.y * axis.z + axis.x * s,  oc * axis.z * axis.z + c,           0.0,","                   0.0,                                0.0,                                0.0,                                1.0);","   }","","   vec3 getRotation( in vec3 pos, in float positionInTime ) {","      if( rotation.y == 0.0 ) {","           return pos;","      }","","      vec3 axis = unpackRotationAxis( rotation.x );","      vec3 center = rotationCenter;","      vec3 translated;","      mat4 rotationMatrix;","      float angle = 0.0;","      angle += when_eq( rotation.z, 0.0 ) * rotation.y;","      angle += when_gt( rotation.z, 0.0 ) * mix( 0.0, rotation.y, positionInTime );","      translated = rotationCenter - pos;","      rotationMatrix = getRotationMatrix( axis, angle );","      return center - vec3( rotationMatrix * vec4( translated, 0.0 ) );","   }","#endif"].join("\n"),rotateTexture:["    vec2 vUv = vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y );","","    #ifdef SHOULD_ROTATE_TEXTURE","       float x = gl_PointCoord.x - 0.5;","       float y = 1.0 - gl_PointCoord.y - 0.5;","       float c = cos( -vAngle );","       float s = sin( -vAngle );","       vUv = vec2( c * x + s * y + 0.5, c * y - s * x + 0.5 );","    #endif","","    #ifdef SHOULD_CALCULATE_SPRITE","        float framesX = vSpriteSheet.x;","        float framesY = vSpriteSheet.y;","        float columnNorm = vSpriteSheet.z;","        float rowNorm = vSpriteSheet.w;","        vUv.x = gl_PointCoord.x * framesX + columnNorm;","        vUv.y = 1.0 - (gl_PointCoord.y * framesY + rowNorm);","    #endif","","    vec4 rotatedTexture = texture2D( tex, vUv );"].join("\n")},_={vertex:[A.defines,A.uniforms,A.attributes,A.varyings,o.common,o.logdepthbuf_pars_vertex,o.fog_pars_fragment,A.branchAvoidanceFunctions,A.unpackColor,A.unpackRotationAxis,A.floatOverLifetime,A.colorOverLifetime,A.paramFetchingFunctions,A.forceFetchingFunctions,A.rotationFunctions,"void main() {","    highp float age = getAge();","    highp float alive = getAlive();","    highp float maxAge = getMaxAge();","    highp float positionInTime = (age / maxAge);","    highp float isAlive = when_gt( alive, 0.0 );","    #ifdef SHOULD_WIGGLE_PARTICLES","        float wiggleAmount = positionInTime * getWiggle();","        float wiggleSin = isAlive * sin( wiggleAmount );","        float wiggleCos = isAlive * cos( wiggleAmount );","    #endif","    vec3 vel = getVelocity( age );","    vec3 accel = getAcceleration( age );","    vec3 force = vec3( 0.0 );","    vec3 pos = vec3( position );","    float drag = 1.0 - (positionInTime * 0.5) * acceleration.w;","    force += vel;","    force *= drag;","    force += accel * age;","    pos += force;","    #ifdef SHOULD_WIGGLE_PARTICLES","        pos.x += wiggleSin;","        pos.y += wiggleCos;","        pos.z += wiggleSin;","    #endif","    #ifdef SHOULD_ROTATE_PARTICLES","        pos = getRotation( pos, positionInTime );","    #endif","    vec4 mvPosition = modelViewMatrix * vec4( pos, 1.0 );","    highp float pointSize = getFloatOverLifetime( positionInTime, size ) * isAlive;","    #ifdef HAS_PERSPECTIVE","        float perspective = scale / length( mvPosition.xyz );","    #else","        float perspective = 1.0;","    #endif","    float pointSizePerspective = pointSize * perspective;","    #ifdef COLORIZE","       vec3 c = isAlive * getColorOverLifetime(","           positionInTime,","           unpackColor( color.x ),","           unpackColor( color.y ),","           unpackColor( color.z ),","           unpackColor( color.w )","       );","    #else","       vec3 c = vec3(1.0);","    #endif","    float o = isAlive * getFloatOverLifetime( positionInTime, opacity );","    vColor = vec4( c, o );","    #ifdef SHOULD_ROTATE_TEXTURE","        vAngle = isAlive * getFloatOverLifetime( positionInTime, angle );","    #endif","    #ifdef SHOULD_CALCULATE_SPRITE","        float framesX = textureAnimation.x;","        float framesY = textureAnimation.y;","        float loopCount = textureAnimation.w;","        float totalFrames = textureAnimation.z;","        float frameNumber = mod( (positionInTime * loopCount) * totalFrames, totalFrames );","        float column = floor(mod( frameNumber, framesX ));","        float row = floor( (frameNumber - column) / framesX );","        float columnNorm = column / framesX;","        float rowNorm = row / framesY;","        vSpriteSheet.x = 1.0 / framesX;","        vSpriteSheet.y = 1.0 / framesY;","        vSpriteSheet.z = columnNorm;","        vSpriteSheet.w = rowNorm;","    #endif","    gl_PointSize = pointSizePerspective;","    gl_Position = projectionMatrix * mvPosition;",o.logdepthbuf_vertex,"}"].join("\n"),fragment:[A.uniforms,o.common,o.fog_pars_fragment,o.logdepthbuf_pars_fragment,A.varyings,A.branchAvoidanceFunctions,"void main() {","    vec3 outgoingLight = vColor.xyz;","    ","    #ifdef ALPHATEST","       if ( vColor.w < float(ALPHATEST) ) discard;","    #endif",A.rotateTexture,o.logdepthbuf_fragment,"    outgoingLight = vColor.xyz * rotatedTexture.xyz;","    gl_FragColor = vec4( outgoingLight.xyz, rotatedTexture.w * vColor.w );",o.fog_fragment,"}"].join("\n")},x=function(){function e(e){var i=m.types,a=g.valueOverLifetimeLength;for(var n in(e=m.ensureTypedArg(e,i.OBJECT,{})).position=m.ensureTypedArg(e.position,i.OBJECT,{}),e.velocity=m.ensureTypedArg(e.velocity,i.OBJECT,{}),e.acceleration=m.ensureTypedArg(e.acceleration,i.OBJECT,{}),e.radius=m.ensureTypedArg(e.radius,i.OBJECT,{}),e.drag=m.ensureTypedArg(e.drag,i.OBJECT,{}),e.rotation=m.ensureTypedArg(e.rotation,i.OBJECT,{}),e.color=m.ensureTypedArg(e.color,i.OBJECT,{}),e.opacity=m.ensureTypedArg(e.opacity,i.OBJECT,{}),e.size=m.ensureTypedArg(e.size,i.OBJECT,{}),e.angle=m.ensureTypedArg(e.angle,i.OBJECT,{}),e.wiggle=m.ensureTypedArg(e.wiggle,i.OBJECT,{}),e.maxAge=m.ensureTypedArg(e.maxAge,i.OBJECT,{}),e.onParticleSpawn&&console.warn("onParticleSpawn has been removed. Please set properties directly to alter values at runtime."),this.uuid=u.generateUUID(),this.type=m.ensureTypedArg(e.type,i.NUMBER,g.distributions.BOX),this.position={_value:m.ensureInstanceOf(e.position.value,t,new t),_spread:m.ensureInstanceOf(e.position.spread,t,new t),_spreadClamp:m.ensureInstanceOf(e.position.spreadClamp,t,new t),_distribution:m.ensureTypedArg(e.position.distribution,i.NUMBER,this.type),_randomise:m.ensureTypedArg(e.position.randomise,i.BOOLEAN,!1),_radius:m.ensureTypedArg(e.position.radius,i.NUMBER,10),_radiusScale:m.ensureInstanceOf(e.position.radiusScale,t,new t(1,1,1)),_distributionClamp:m.ensureTypedArg(e.position.distributionClamp,i.NUMBER,0)},this.velocity={_value:m.ensureInstanceOf(e.velocity.value,t,new t),_spread:m.ensureInstanceOf(e.velocity.spread,t,new t),_distribution:m.ensureTypedArg(e.velocity.distribution,i.NUMBER,this.type),_randomise:m.ensureTypedArg(e.position.randomise,i.BOOLEAN,!1)},this.acceleration={_value:m.ensureInstanceOf(e.acceleration.value,t,new t),_spread:m.ensureInstanceOf(e.acceleration.spread,t,new t),_distribution:m.ensureTypedArg(e.acceleration.distribution,i.NUMBER,this.type),_randomise:m.ensureTypedArg(e.position.randomise,i.BOOLEAN,!1)},this.drag={_value:m.ensureTypedArg(e.drag.value,i.NUMBER,0),_spread:m.ensureTypedArg(e.drag.spread,i.NUMBER,0),_randomise:m.ensureTypedArg(e.position.randomise,i.BOOLEAN,!1)},this.wiggle={_value:m.ensureTypedArg(e.wiggle.value,i.NUMBER,0),_spread:m.ensureTypedArg(e.wiggle.spread,i.NUMBER,0)},this.rotation={_axis:m.ensureInstanceOf(e.rotation.axis,t,new t(0,1,0)),_axisSpread:m.ensureInstanceOf(e.rotation.axisSpread,t,new t),_angle:m.ensureTypedArg(e.rotation.angle,i.NUMBER,0),_angleSpread:m.ensureTypedArg(e.rotation.angleSpread,i.NUMBER,0),_static:m.ensureTypedArg(e.rotation.static,i.BOOLEAN,!1),_center:m.ensureInstanceOf(e.rotation.center,t,this.position._value.clone()),_randomise:m.ensureTypedArg(e.position.randomise,i.BOOLEAN,!1)},this.maxAge={_value:m.ensureTypedArg(e.maxAge.value,i.NUMBER,2),_spread:m.ensureTypedArg(e.maxAge.spread,i.NUMBER,0)},this.color={_value:m.ensureArrayInstanceOf(e.color.value,r,new r),_spread:m.ensureArrayInstanceOf(e.color.spread,t,new t),_randomise:m.ensureTypedArg(e.position.randomise,i.BOOLEAN,!1)},this.opacity={_value:m.ensureArrayTypedArg(e.opacity.value,i.NUMBER,1),_spread:m.ensureArrayTypedArg(e.opacity.spread,i.NUMBER,0),_randomise:m.ensureTypedArg(e.position.randomise,i.BOOLEAN,!1)},this.size={_value:m.ensureArrayTypedArg(e.size.value,i.NUMBER,1),_spread:m.ensureArrayTypedArg(e.size.spread,i.NUMBER,0),_randomise:m.ensureTypedArg(e.position.randomise,i.BOOLEAN,!1)},this.angle={_value:m.ensureArrayTypedArg(e.angle.value,i.NUMBER,0),_spread:m.ensureArrayTypedArg(e.angle.spread,i.NUMBER,0),_randomise:m.ensureTypedArg(e.position.randomise,i.BOOLEAN,!1)},this.particleCount=m.ensureTypedArg(e.particleCount,i.NUMBER,100),this.duration=m.ensureTypedArg(e.duration,i.NUMBER,null),this.isStatic=m.ensureTypedArg(e.isStatic,i.BOOLEAN,!1),this.activeMultiplier=m.ensureTypedArg(e.activeMultiplier,i.NUMBER,1),this.direction=m.ensureTypedArg(e.direction,i.NUMBER,1),this.alive=m.ensureTypedArg(e.alive,i.BOOLEAN,!0),this.particlesPerSecond=0,this.activationIndex=0,this.attributeOffset=0,this.attributeEnd=0,this.age=0,this.activeParticleCount=0,this.group=null,this.attributes=null,this.paramsArray=null,this.resetFlags={position:m.ensureTypedArg(e.position.randomise,i.BOOLEAN,!1)||m.ensureTypedArg(e.radius.randomise,i.BOOLEAN,!1),velocity:m.ensureTypedArg(e.velocity.randomise,i.BOOLEAN,!1),acceleration:m.ensureTypedArg(e.acceleration.randomise,i.BOOLEAN,!1)||m.ensureTypedArg(e.drag.randomise,i.BOOLEAN,!1),rotation:m.ensureTypedArg(e.rotation.randomise,i.BOOLEAN,!1),rotationCenter:m.ensureTypedArg(e.rotation.randomise,i.BOOLEAN,!1),size:m.ensureTypedArg(e.size.randomise,i.BOOLEAN,!1),color:m.ensureTypedArg(e.color.randomise,i.BOOLEAN,!1),opacity:m.ensureTypedArg(e.opacity.randomise,i.BOOLEAN,!1),angle:m.ensureTypedArg(e.angle.randomise,i.BOOLEAN,!1)},this.updateFlags={},this.updateCounts={},this.updateMap={maxAge:"params",position:"position",velocity:"velocity",acceleration:"acceleration",drag:"acceleration",wiggle:"params",rotation:"rotation",size:"size",color:"color",opacity:"opacity",angle:"angle"},this.updateMap)this.updateMap.hasOwnProperty(n)&&(this.updateCounts[this.updateMap[n]]=0,this.updateFlags[this.updateMap[n]]=!1,this._createGetterSetters(this[n],n));this.bufferUpdateRanges={},this.attributeKeys=null,this.attributeCount=0,m.ensureValueOverLifetimeCompliance(this.color,a,a),m.ensureValueOverLifetimeCompliance(this.opacity,a,a),m.ensureValueOverLifetimeCompliance(this.size,a,a),m.ensureValueOverLifetimeCompliance(this.angle,a,a)}var i=e.prototype;return i._createGetterSetters=function(e,t){var i=this;Object.keys(e).forEach((function(r){var a=r.replace("_","");Object.defineProperty(e,a,{get:function(){return this[r]},set:function(e){var a=i.updateMap[t],n=this[r],s=g.valueOverLifetimeLength;"_rotationCenter"===r?(i.updateFlags.rotationCenter=!0,this.updateCounts.rotationCenter=0):"_randomise"===r?i.resetFlags[a]=e:(i.updateFlags[a]=!0,i.updateCounts[a]=0),i.group._updateDefines(),this[r]=e,Array.isArray(n)&&m.ensureValueOverLifetimeCompliance(i[t],s,s)}})}))},i._setBufferUpdateRanges=function(e){this.attributeKeys=e,this.attributeCount=e.length;for(var t=this.attributeCount-1;t>=0;--t)this.bufferUpdateRanges[e[t]]={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY}},i._calculatePPSValue=function(e){var t=this.particleCount;this.duration?this.particlesPerSecond=t/(e<this.duration?e:this.duration):this.particlesPerSecond=t/e},i._setAttributeOffset=function(e){this.attributeOffset=e,this.activationIndex=e,this.activationEnd=e+this.particleCount},i._assignValue=function(e,t){switch(e){case"position":this._assignPositionValue(t);break;case"velocity":case"acceleration":this._assignForceValue(t,e);break;case"size":case"opacity":this._assignAbsLifetimeValue(t,e);break;case"angle":this._assignAngleValue(t);break;case"params":this._assignParamsValue(t);break;case"rotation":this._assignRotationValue(t);break;case"color":this._assignColorValue(t)}},i._assignPositionValue=function(e){var t=g.distributions,i=this.position,r=this.attributes.position,a=i._value,n=i._spread;switch(i.distribution){case t.BOX:m.randomVector3(r,e,a,n,i._spreadClamp);break;case t.SPHERE:m.randomVector3OnSphere(r,e,a,i._radius,i._spread.x,i._radiusScale,i._spreadClamp.x,i._distributionClamp||this.particleCount);break;case t.DISC:m.randomVector3OnDisc(r,e,a,i._radius,i._spread.x,i._radiusScale,i._spreadClamp.x);break;case t.LINE:m.randomVector3OnLine(r,e,a,n)}},i._assignForceValue=function(e,t){var i,r,a,n,s,o=g.distributions,u=this[t],l=u._value,c=u._spread;switch(u._distribution){case o.BOX:m.randomVector3(this.attributes[t],e,l,c);break;case o.SPHERE:r=(i=this.attributes.position.typedArray.array)[s=3*e],a=i[s+1],n=i[s+2],m.randomDirectionVector3OnSphere(this.attributes[t],e,r,a,n,this.position._value,u._value.x,u._spread.x);break;case o.DISC:r=(i=this.attributes.position.typedArray.array)[s=3*e],a=i[s+1],n=i[s+2],m.randomDirectionVector3OnDisc(this.attributes[t],e,r,a,n,this.position._value,u._value.x,u._spread.x);break;case o.LINE:m.randomVector3OnLine(this.attributes[t],e,l,c)}if("acceleration"===t){var p=m.clamp(m.randomFloat(this.drag._value,this.drag._spread),0,1);this.attributes.acceleration.typedArray.array[4*e+3]=p}},i._assignAbsLifetimeValue=function(e,t){var i,r=this.attributes[t].typedArray,a=this[t];m.arrayValuesAreEqual(a._value)&&m.arrayValuesAreEqual(a._spread)?(i=Math.abs(m.randomFloat(a._value[0],a._spread[0])),r.setVec4Components(e,i,i,i,i)):r.setVec4Components(e,Math.abs(m.randomFloat(a._value[0],a._spread[0])),Math.abs(m.randomFloat(a._value[1],a._spread[1])),Math.abs(m.randomFloat(a._value[2],a._spread[2])),Math.abs(m.randomFloat(a._value[3],a._spread[3])))},i._assignAngleValue=function(e){var t,i=this.attributes.angle.typedArray,r=this.angle;m.arrayValuesAreEqual(r._value)&&m.arrayValuesAreEqual(r._spread)?(t=m.randomFloat(r._value[0],r._spread[0]),i.setVec4Components(e,t,t,t,t)):i.setVec4Components(e,m.randomFloat(r._value[0],r._spread[0]),m.randomFloat(r._value[1],r._spread[1]),m.randomFloat(r._value[2],r._spread[2]),m.randomFloat(r._value[3],r._spread[3]))},i._assignParamsValue=function(e){this.attributes.params.typedArray.setVec4Components(e,this.isStatic?1:0,0,Math.abs(m.randomFloat(this.maxAge._value,this.maxAge._spread)),m.randomFloat(this.wiggle._value,this.wiggle._spread))},i._assignRotationValue=function(e){this.attributes.rotation.typedArray.setVec3Components(e,m.getPackedRotationAxis(this.rotation._axis,this.rotation._axisSpread),m.randomFloat(this.rotation._angle,this.rotation._angleSpread),this.rotation._static?0:1),this.attributes.rotationCenter.typedArray.setVec3(e,this.rotation._center)},i._assignColorValue=function(e){m.randomColorAsHex(this.attributes.color,e,this.color._value,this.color._spread)},i._resetParticle=function(e){for(var t,i,r=this.resetFlags,a=this.updateFlags,n=this.updateCounts,s=this.attributeKeys,o=this.attributeCount-1;o>=0;--o)i=a[t=s[o]],!0!==r[t]&&!0!==i||(this._assignValue(t,e),this._updateAttributeUpdateRange(t,e),!0===i&&n[t]===this.particleCount?(a[t]=!1,n[t]=0):!0===i&&++n[t])},i._updateAttributeUpdateRange=function(e,t){var i=this.bufferUpdateRanges[e];i.min=Math.min(t,i.min),i.max=Math.max(t,i.max)},i._resetBufferRanges=function(){for(var e,t=this.bufferUpdateRanges,i=this.bufferUpdateKeys,r=this.bufferUpdateCount-1;r>=0;--r)t[e=i[r]].min=Number.POSITIVE_INFINITY,t[e].max=Number.NEGATIVE_INFINITY},i._onRemove=function(){this.particlesPerSecond=0,this.attributeOffset=0,this.activationIndex=0,this.activeParticleCount=0,this.group=null,this.attributes=null,this.paramsArray=null,this.age=0},i._decrementParticleCount=function(){--this.activeParticleCount},i._incrementParticleCount=function(){++this.activeParticleCount},i._checkParticleAges=function(e,t,i,r){for(var a,n,s,o,u=t-1;u>=e;--u)0!==(o=i[a=4*u])&&(s=i[a+1],n=i[a+2],1===this.direction?(s+=r)>=n&&(s=0,o=0,this._decrementParticleCount()):(s-=r)<=0&&(s=n,o=0,this._decrementParticleCount()),i[a]=o,i[a+1]=s,this._updateAttributeUpdateRange("params",u))},i._activateParticles=function(e,t,i,r){for(var a,n,s=this.direction,o=e;o<t;++o)0!==i[a=4*o]&&1!==this.particleCount||(this._incrementParticleCount(),i[a]=1,this._resetParticle(o),n=r*(o-e),i[a+1]=-1===s?i[a+2]-n:n,this._updateAttributeUpdateRange("params",o))},i.update=function(e){if(!this.isStatic){null===this.paramsArray&&(this.paramsArray=this.attributes.params.typedArray.array);var t=this.attributeOffset,i=t+this.particleCount,r=this.paramsArray,a=this.particlesPerSecond*this.activeMultiplier*e,n=this.activationIndex;if(this._resetBufferRanges(),this._checkParticleAges(t,i,r,e),!1!==this.alive){if(null!==this.duration&&this.age>this.duration)return this.alive=!1,void(this.age=0);var s=1===this.particleCount?n:0|n,o=Math.min(s+a,this.activationEnd),u=o-this.activationIndex|0,l=u>0?e/u:0;this._activateParticles(s,o,r,l),this.activationIndex+=a,this.activationIndex>i&&(this.activationIndex=t),this.age+=e}else this.age=0}},i.reset=function(e){if(this.age=0,this.alive=!1,!0===e){for(var t,i=this.attributeOffset,r=i+this.particleCount,a=this.paramsArray,n=this.attributes.params.bufferAttribute,s=r-1;s>=i;--s)a[t=4*s]=0,a[t+1]=0;n.updateRange.offset=0,n.updateRange.count=-1,n.needsUpdate=!0}return this},i.enable=function(){return this.alive=!0,this},i.disable=function(){return this.alive=!1,this},i.remove=function(){return null!==this.group?this.group.removeEmitter(this):console.error("Emitter does not belong to a group, cannot remove."),this},e}(),O=function(){function a(t){var a=m.types;(t=m.ensureTypedArg(t,a.OBJECT,{})).texture=m.ensureTypedArg(t.texture,a.OBJECT,{}),this.uuid=u.generateUUID(),this.fixedTimeStep=m.ensureTypedArg(t.fixedTimeStep,a.NUMBER,.0167),this.texture=t.texture.value||null,this.textureFrames=t.texture.frames||new e(1,1),this.textureFrameCount=m.ensureTypedArg(t.texture.frameCount,a.NUMBER,this.textureFrames.x*this.textureFrames.y),this.textureLoop=m.ensureTypedArg(t.texture.loop,a.NUMBER,1),this.textureFrames.max(new e(1,1)),this.hasPerspective=m.ensureTypedArg(t.hasPerspective,a.BOOLEAN,!0),this.colorize=m.ensureTypedArg(t.colorize,a.BOOLEAN,!0),this.maxParticleCount=m.ensureTypedArg(t.maxParticleCount,a.NUMBER,null),this.blending=m.ensureTypedArg(t.blending,a.NUMBER,l),this.transparent=m.ensureTypedArg(t.transparent,a.BOOLEAN,!0),this.alphaTest=parseFloat(m.ensureTypedArg(t.alphaTest,a.NUMBER,0)),this.depthWrite=m.ensureTypedArg(t.depthWrite,a.BOOLEAN,!1),this.depthTest=m.ensureTypedArg(t.depthTest,a.BOOLEAN,!0),this.fog=m.ensureTypedArg(t.fog,a.BOOLEAN,!0),this.scale=m.ensureTypedArg(t.scale,a.NUMBER,300),this.emitters=[],this.emitterIDs=[],this._pool=[],this._poolCreationSettings=null,this._createNewWhenPoolEmpty=0,this._attributesNeedRefresh=!1,this._attributesNeedDynamicReset=!1,this.particleCount=0,this.uniforms={tex:{type:"t",value:this.texture},textureAnimation:{type:"v4",value:new i(this.textureFrames.x,this.textureFrames.y,this.textureFrameCount,Math.max(Math.abs(this.textureLoop),1))},fogColor:{type:"c",value:this.fog?new r:null},fogNear:{type:"f",value:10},fogFar:{type:"f",value:200},fogDensity:{type:"f",value:.5},deltaTime:{type:"f",value:0},runTime:{type:"f",value:0},scale:{type:"f",value:this.scale}},this.defines={HAS_PERSPECTIVE:this.hasPerspective,COLORIZE:this.colorize,VALUE_OVER_LIFETIME_LENGTH:g.valueOverLifetimeLength,SHOULD_ROTATE_TEXTURE:!1,SHOULD_ROTATE_PARTICLES:!1,SHOULD_WIGGLE_PARTICLES:!1,SHOULD_CALCULATE_SPRITE:this.textureFrames.x>1||this.textureFrames.y>1},this.attributes={position:new v("v3",!0),acceleration:new v("v4",!0),velocity:new v("v3",!0),rotation:new v("v4",!0),rotationCenter:new v("v3",!0),params:new v("v4",!0),size:new v("v4",!0),angle:new v("v4",!0),color:new v("v4",!0),opacity:new v("v4",!0)},this.attributeKeys=Object.keys(this.attributes),this.attributeCount=this.attributeKeys.length,this.material=new c({uniforms:this.uniforms,vertexShader:_.vertex,fragmentShader:_.fragment,blending:this.blending,transparent:this.transparent,alphaTest:this.alphaTest,depthWrite:this.depthWrite,depthTest:this.depthTest,defines:this.defines,fog:this.fog}),this.geometry=new p,this.mesh=new h(this.geometry,this.material),null===this.maxParticleCount&&console.warn("Group: No maxParticleCount specified. Adding emitters after rendering will probably cause errors.")}var n=a.prototype;return n._updateDefines=function(){for(var e,t=this.emitters,i=this.defines,r=t.length-1;r>=0;--r)e=t[r],i.SHOULD_CALCULATE_SPRITE||(i.SHOULD_ROTATE_TEXTURE=i.SHOULD_ROTATE_TEXTURE||!!Math.max(Math.max.apply(null,e.angle.value),Math.max.apply(null,e.angle.spread))),i.SHOULD_ROTATE_PARTICLES=i.SHOULD_ROTATE_PARTICLES||!!Math.max(e.rotation.angle,e.rotation.angleSpread),i.SHOULD_WIGGLE_PARTICLES=i.SHOULD_WIGGLE_PARTICLES||!!Math.max(e.wiggle.value,e.wiggle.spread);this.material.needsUpdate=!0},n._applyAttributesToGeometry=function(){var e,t,i=this.attributes,r=this.geometry,a=r.attributes;Object.keys(i).forEach((function(n){e=i[n],(t=a[n])?t.array=e.typedArray.array:r.setAttribute(n,e.bufferAttribute),e.bufferAttribute.needsUpdate=!0})),this.geometry.setDrawRange(0,this.particleCount)},n.addEmitter=function(e){if(e instanceof x!=!1)if(this.emitterIDs.indexOf(e.uuid)>-1)console.error("Emitter already exists in this group. Will not add again.");else{if(null===e.group){var t=this.attributes,i=this.particleCount,r=i+e.particleCount;for(var a in this.particleCount=r,null!==this.maxParticleCount&&this.particleCount>this.maxParticleCount&&console.warn("Group: maxParticleCount exceeded. Requesting",this.particleCount,"particles, can support only",this.maxParticleCount),e._calculatePPSValue(e.maxAge._value+e.maxAge._spread),e._setBufferUpdateRanges(this.attributeKeys),e._setAttributeOffset(i),e.group=this,e.attributes=this.attributes,t)t.hasOwnProperty(a)&&t[a]._createBufferAttribute(null!==this.maxParticleCount?this.maxParticleCount:this.particleCount);for(var n=i;n<r;++n)e._assignPositionValue(n),e._assignForceValue(n,"velocity"),e._assignForceValue(n,"acceleration"),e._assignAbsLifetimeValue(n,"opacity"),e._assignAbsLifetimeValue(n,"size"),e._assignAngleValue(n),e._assignRotationValue(n),e._assignParamsValue(n),e._assignColorValue(n);return this._applyAttributesToGeometry(),this.emitters.push(e),this.emitterIDs.push(e.uuid),this._updateDefines(e),this.material.needsUpdate=!0,this.geometry.needsUpdate=!0,this._attributesNeedRefresh=!0,this}console.error("Emitter already belongs to another group. Will not add to requested group.")}else console.error("`emitter` argument must be instance of Emitter. Was provided with:",e)},n.removeEmitter=function(e){var t=this.emitterIDs.indexOf(e,this.uuid);if(e instanceof x!=!1)if(-1!==t){for(var i=e.attributeOffset,r=i+e.particleCount,a=this.attributes.params.typedArray,n=i;n<r;++n)a.array[4*n]=0,a.array[4*n+1]=0;for(var s in this.emitters.splice(t,1),this.emitterIDs.splice(t,1),this.attributes)this.attributes.hasOwnProperty(s)&&this.attributes[s].splice(i,r);this.particleCount-=e.particleCount,e._onRemove(),this._attributesNeedRefresh=!0}else console.error("Emitter does not exist in this group. Will not remove.");else console.error("`emitter` argument must be instance of Emitter. Was provided with:",e)},n.getFromPool=function(){var e=this._pool,t=this._createNewWhenPoolEmpty;if(e.length)return e.pop();if(t){var i=new x(this._poolCreationSettings);return this.addEmitter(i),i}return null},n.releaseIntoPool=function(e){if(e instanceof x!=!1)return e.reset(),this._pool.unshift(e),this;console.error("Argument is not instanceof Emitter:",e)},n.getPool=function(){return this._pool},n.addPool=function(e,t,i){var r;this._poolCreationSettings=t,this._createNewWhenPoolEmpty=!!i;for(var a=0;a<e;++a)r=Array.isArray(t)?new x(t[a]):new x(t),this.addEmitter(r),this.releaseIntoPool(r);return this},n._triggerSingleEmitter=function(e){var i=this.getFromPool(),r=this;if(null!==i)return e instanceof t&&(i.position.value.copy(e),i.position.value=i.position.value),i.enable(),setTimeout((function(){i.disable(),r.releaseIntoPool(i)}),1e3*Math.max(i.duration,i.maxAge.value+i.maxAge.spread)),this;console.log("Group pool ran out.")},n.triggerPoolEmitter=function(e,t){if("number"==typeof e&&e>1)for(var i=0;i<e;++i)this._triggerSingleEmitter(t);else this._triggerSingleEmitter(t);return this},n._updateUniforms=function(e){this.uniforms.runTime.value+=e,this.uniforms.deltaTime.value=e},n._resetBufferRanges=function(){for(var e=this.attributeKeys,t=this.attributes,i=this.attributeCount-1;i>=0;--i)t[e[i]].resetUpdateRange()},n._updateBuffers=function(e){for(var t,i,r,a=this.attributeKeys,n=this.attributes,s=e.bufferUpdateRanges,o=this.attributeCount-1;o>=0;--o)i=s[t=a[o]],(r=n[t]).setUpdateRange(i.min,i.max),r.flagUpdate()},n.update=function(e){var t,i=this.emitters,r=i.length,a=e||this.fixedTimeStep,n=this.attributeKeys,s=this.attributes;if(this._updateUniforms(a),this._resetBufferRanges(),0!==r||!1!==this._attributesNeedRefresh||!1!==this._attributesNeedDynamicReset){for(var o,u=0;u<r;++u)(o=i[u]).update(a),this._updateBuffers(o);if(!0===this._attributesNeedDynamicReset){for(t=this.attributeCount-1;t>=0;--t)s[n[t]].resetDynamic();this._attributesNeedDynamicReset=!1}if(!0===this._attributesNeedRefresh){for(t=this.attributeCount-1;t>=0;--t)s[n[t]].forceUpdateAll();this._attributesNeedRefresh=!1,this._attributesNeedDynamicReset=!0}}},n.dispose=function(){return this.geometry.dispose(),this.material.dispose(),this},a}();export{g as Constants,x as Emitter,O as Group,m as utils};
//# sourceMappingURL=shader-particle-system.min.js.map
